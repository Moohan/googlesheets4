<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="googlesheets4">
<title>Messages and errors in googlesheets4 • googlesheets4</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.7/font.css" rel="stylesheet">
<link href="../deps/Source_Code_Pro-0.4.7/font.css" rel="stylesheet">
<!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Messages and errors in googlesheets4">
<meta property="og:description" content="googlesheets4">
<meta property="og:image" content="https://googlesheets4.tidyverse.org/logo.png">
<meta name="robots" content="noindex">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><script defer data-domain="googlesheets4.tidyverse.org,all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script>
</head>
<body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-none"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">googlesheets4</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">1.1.1.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/googlesheets4.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/read-sheets.html">Read Sheets</a>
    <a class="dropdown-item" href="../articles/write-sheets.html">Write Sheets</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Special topics</h6>
    <a class="dropdown-item" href="../articles/auth.html">googlesheets4 auth</a>
    <a class="dropdown-item" href="../articles/dates-and-times.html">Dates and times</a>
    <a class="dropdown-item" href="../articles/find-identify-sheets.html">Find and identify Sheets</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Connections to other packages</h6>
    <a class="dropdown-item" href="../articles/drive-and-sheets.html">Using googlesheets4 with googledrive</a>
    <a class="dropdown-item" href="../articles/fun-with-googledrive-and-readxl.html">Fun with googledrive and readxl</a>
    <a class="dropdown-item" href="../articles/googlesheets4-reprex.html">How to create a googlesheets4 reprex</a>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="../articles/index.html">More articles...</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-news">News</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-news">
    <h6 class="dropdown-header" data-toc-skip>Releases</h6>
    <a class="external-link dropdown-item" href="https://www.tidyverse.org/blog/2021/07/googlesheets4-1-0-0/">googlesheets4 1.0.0</a>
    <a class="external-link dropdown-item" href="https://www.tidyverse.org/blog/2020/05/googlesheets4-0-2-0/">googlesheets4 0.2.0</a>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="../news/index.html">Changelog</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/tidyverse/googlesheets4/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article" id="container">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Messages and errors in googlesheets4</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/tidyverse/googlesheets4/blob/HEAD/vignettes/articles/messages-and-errors.Rmd" class="external-link"><code>vignettes/articles/messages-and-errors.Rmd</code></a></small>
      <div class="d-none name"><code>messages-and-errors.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://googlesheets4.tidyverse.org">googlesheets4</a></span><span class="op">)</span></span></code></pre></div>
<p><em>In a hidden chunk here, I “export” the internal helpers covered
below.</em></p>
<div class="section level2">
<h2 id="user-facing-messages">User-facing messages<a class="anchor" aria-label="anchor" href="#user-facing-messages"></a>
</h2>
<p>Everything should be emitted by helpers in <code>utils-ui.R</code>:
specifically, <code>gs4_bullets()</code> and, for errors,
<code>gs4_abort()</code>. These helpers are wrappers around
<code><a href="https://cli.r-lib.org/reference/cli_abort.html" class="external-link">cli::cli_inform()</a></code> and <code><a href="https://cli.r-lib.org/reference/cli_abort.html" class="external-link">cli::cli_abort()</a></code>,
respectively.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">gs4_bullets</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>        <span class="st">"noindent"</span>,</span>
<span>  <span class="st">" "</span> <span class="op">=</span> <span class="st">"indent"</span>,</span>
<span>  <span class="st">"*"</span> <span class="op">=</span> <span class="st">"bullet"</span>,</span>
<span>  <span class="st">"&gt;"</span> <span class="op">=</span> <span class="st">"arrow"</span>,</span>
<span>  <span class="st">"v"</span> <span class="op">=</span> <span class="st">"Doing good stuff for YOU the user"</span>,</span>
<span>  <span class="st">"x"</span> <span class="op">=</span> <span class="st">"Nope nope nope"</span>,</span>
<span>  <span class="st">"!"</span> <span class="op">=</span> <span class="st">"You might want to know about this"</span>,</span>
<span>  <span class="st">"i"</span> <span class="op">=</span> <span class="st">"The more you know!"</span></span>
<span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; noindent</span></span>
<span><span class="co">#&gt;   indent</span></span>
<span><span class="co">#&gt; • bullet</span></span>
<span><span class="co">#&gt; → arrow</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> Doing good stuff for YOU the user</span></span>
<span><span class="co">#&gt; <span style="color: #BB0000;">✖</span> Nope nope nope</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> You might want to know about this</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> The more you know!</span></span></code></pre></div>
<p>The helpers encourage consistent styling and make it possible to
selectively silence messages coming from googlesheets4. The
googlesheets4 message helpers:</p>
<ul>
<li>Use the <a href="https://cli.r-lib.org/index.html" class="external-link">cli package</a>
to get interpolation, inline markup, and pluralization.</li>
<li>Use googlesheets4’s custom theme, which has styles for Sheet name,
worksheet name, and range.</li>
<li>Eventually route through <code><a href="https://rlang.r-lib.org/reference/abort.html" class="external-link">rlang::inform()</a></code>, which is
important because <code>inform()</code> prints to standard output in
interactive sessions. This means that informational messages won’t have
the same “look” as errors and can generally be more stylish, at least in
IDEs like RStudio.</li>
<li>Are under the control of the <code>"googlesheets4_quiet"</code>
option. If it’s unset, the default is to show messages (unless we’re
testing, i.e. the environment variable <code>TESTTHAT</code> is
<code>"true"</code>). <code>googlesheets4_quiet = TRUE</code> will
suppress messages. There are withr-style convenience helpers:
<code><a href="../reference/googlesheets4-configuration.html">local_gs4_quiet()</a></code> and <code><a href="../reference/googlesheets4-configuration.html">with_gs4_quiet()</a></code>.</li>
</ul>
<div class="section level3">
<h3 id="inline-styling">Inline styling<a class="anchor" aria-label="anchor" href="#inline-styling"></a>
</h3>
<p>How we use the inline classes:</p>
<ul>
<li>
<code>.s_sheet</code> for the name of Google Sheet (custom)</li>
<li>
<code>.w_sheet</code> for the name of a worksheet (custom)</li>
<li>
<code>.range</code> for an A1-style range or named range
(custom)</li>
<li>
<code>.code</code> for a column in a data frame and for reserved
words, such as <code>NULL</code>, <code>TRUE</code>, and
<code>NA</code>
</li>
<li>
<code>.arg</code>, <code>.fun</code>, <code>.path</code>,
<code>.cls</code>, <code>.url</code>. <code>.email</code> for their
usual purpose</li>
</ul>
<p><em>These may not demo well via pkgdown, but the interactive
experience is nice.</em></p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">nm</span> <span class="op">&lt;-</span> <span class="st">"name-of-a-Google-Sheet"</span></span>
<span><span class="fu">gs4_bullets</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>v <span class="op">=</span> <span class="st">"Creating new Sheet: {.s_sheet {nm}}"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> Creating new Sheet: <span style="color: #00BBBB;">name-of-a-Google-Sheet</span></span></span>
<span></span>
<span><span class="va">nm</span> <span class="op">&lt;-</span> <span class="st">"name-of-a-worksheet"</span></span>
<span><span class="fu">gs4_bullets</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>v <span class="op">=</span> <span class="st">"Protecting cells on sheet: {.w_sheet {nm}}"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> Protecting cells on sheet: <span style="color: #00BB00;">name-of-a-worksheet</span></span></span>
<span></span>
<span><span class="va">rg</span> <span class="op">&lt;-</span> <span class="st">"A3:B20"</span></span>
<span><span class="fu">gs4_bullets</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>v <span class="op">=</span> <span class="st">"Writing to the range: {.range {rg}}"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> Writing to the range: <span style="color: #BBBB00;">A3:B20</span></span></span></code></pre></div>
<p>Above, I don’t include a period (<code>.</code>) at the end of a
message with the form: <code>Description of thing: THING</code>. I view
it as a special case of a bullet list of simple items, which also don’t
get periods. (<code>bulletize()</code> comes from gargle.)</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">gs4_bullets</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"We're going to list some things:"</span>,</span>
<span>  <span class="fu">bulletize</span><span class="op">(</span><span class="fu">gargle</span><span class="fu">::</span><span class="fu"><a href="https://gargle.r-lib.org/reference/gargle_map_cli.html" class="external-link">gargle_map_cli</a></span><span class="op">(</span><span class="va">month.abb</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; We're going to list some things:</span></span>
<span><span class="co">#&gt; • <span style="color: #00BB00;">Jan</span></span></span>
<span><span class="co">#&gt; • <span style="color: #00BB00;">Feb</span></span></span>
<span><span class="co">#&gt; • <span style="color: #00BB00;">Mar</span></span></span>
<span><span class="co">#&gt; • <span style="color: #00BB00;">Apr</span></span></span></code></pre></div>
<p>Other messages that are complete sentence, or at least aspire to be,
<strong>do</strong> get a period.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">gs4_bullets</span><span class="op">(</span><span class="st">"Doing the stuff you asked me to do."</span><span class="op">)</span></span>
<span><span class="co">#&gt; Doing the stuff you asked me to do.</span></span>
<span></span>
<span><span class="fu">gs4_bullets</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"You probably need to do one of these things:"</span>,</span>
<span>  <span class="st">"*"</span> <span class="op">=</span> <span class="st">"Call {.fun some_function}."</span>,</span>
<span>  <span class="st">"*"</span> <span class="op">=</span> <span class="st">"Provide more specific input via {.arg some_argument}."</span></span>
<span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; You probably need to do one of these things:</span></span>
<span><span class="co">#&gt; • Call `some_function()`.</span></span>
<span><span class="co">#&gt; • Provide more specific input via `some_argument`.</span></span></code></pre></div>
<p>Most relevant cli docs:</p>
<ul>
<li><a href="https://cli.r-lib.org/reference/inline-markup.html" class="external-link">CLI
inline markup</a></li>
<li><a href="https://cli.r-lib.org/articles/semantic-cli.html" class="external-link">Building
a Semantic CLI</a></li>
</ul>
</div>
<div class="section level3">
<h3 id="pluralization">Pluralization<a class="anchor" aria-label="anchor" href="#pluralization"></a>
</h3>
<p><a href="https://cli.r-lib.org/articles/pluralization.html" class="external-link">cli’s
pluralization</a> is awesome!</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">nm</span> <span class="op">&lt;-</span> <span class="st">"name-of-a-Google-Sheet"</span></span>
<span><span class="va">n_new</span> <span class="op">&lt;-</span> <span class="fl">1</span></span>
<span><span class="fu">gs4_bullets</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>v <span class="op">=</span> <span class="st">"Adding {n_new} sheet{?s} to {.s_sheet {nm}}"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> Adding 1 sheet to <span style="color: #00BBBB;">name-of-a-Google-Sheet</span></span></span>
<span></span>
<span><span class="va">n_new</span> <span class="op">&lt;-</span> <span class="fl">3</span></span>
<span><span class="fu">gs4_bullets</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>v <span class="op">=</span> <span class="st">"Adding {n_new} sheet{?s} to {.s_sheet {nm}}"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> Adding 3 sheets to <span style="color: #00BBBB;">name-of-a-Google-Sheet</span></span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="collapsing">Collapsing<a class="anchor" aria-label="anchor" href="#collapsing"></a>
</h3>
<p><a href="https://cli.r-lib.org/articles/semantic-cli.html#inline-lists-of-items" class="external-link">Collapsing
lists of things</a> is great! Also more pluralization.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">new_sheet_names</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"apple"</span>, <span class="st">"banana"</span>, <span class="st">"cherry"</span><span class="op">)</span></span>
<span><span class="fu">gs4_bullets</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"New sheet{?s}: {.w_sheet {new_sheet_names}}"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; New sheets: <span style="color: #00BB00;">apple</span>, <span style="color: #00BB00;">banana</span>, and <span style="color: #00BB00;">cherry</span></span></span>
<span></span>
<span><span class="va">new_sheet_names</span> <span class="op">&lt;-</span> <span class="st">"kumquat"</span></span>
<span><span class="fu">gs4_bullets</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"New sheet{?s}: {.w_sheet {new_sheet_names}}"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; New sheet: <span style="color: #00BB00;">kumquat</span></span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="tricky-stuff">Tricky stuff<a class="anchor" aria-label="anchor" href="#tricky-stuff"></a>
</h3>
<p>If you want to see some tricky examples of building up a message from
parts, look here:</p>
<ul>
<li><code><a href="../reference/range_speedread.html">range_speedread()</a></code></li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="errors">Errors<a class="anchor" aria-label="anchor" href="#errors"></a>
</h2>
<p>Use <code>gs4_abort()</code> instead of <code><a href="https://rlang.r-lib.org/reference/abort.html" class="external-link">rlang::abort()</a></code>
or <code><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop()</a></code>. So far, I’m not really using <code>...</code> to
put data in the condition, but I could start when/if there’s a reason
to.</p>
<p><code>abort_unsupported_conversion()</code> is a wrapper around
<code>gs4_abort()</code>.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/structure.html" class="external-link">structure</a></span><span class="op">(</span><span class="fl">1</span>, class <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu">abort_unsupported_conversion</span><span class="op">(</span><span class="va">x</span>, to <span class="op">=</span> <span class="st">"SheetThing"</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00; font-weight: bold;">Error</span><span style="font-weight: bold;"> in `abort_unsupported_conversion()`:</span></span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Don't know how to make an instance of <span style="color: #0000BB;">&lt;SheetThing&gt;</span> from</span></span>
<span><span class="co">#&gt;   something of class <span style="color: #0000BB;">&lt;a/b/c&gt;</span>.</span></span></code></pre></div>
<p><code>abort_unsupported_conversion()</code> exists to standardize a
recurring type of error message, usually encountered during development,
not by end-users. I use it a lot in the default method of an
<code>as_{to}()</code> generic.</p>
<p>There’s not much to add here re: errors, now that
<code><a href="https://cli.r-lib.org/reference/cli_abort.html" class="external-link">cli::cli_abort()</a></code> exists. Error messages are formed just
like informational messages now.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p></p>
<p>Developed by <a href="https://jennybryan.org" class="external-link">Jennifer Bryan</a>, <a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" style="margin-bottom: 3px;"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

  </div></footer>
</body>
</html>
